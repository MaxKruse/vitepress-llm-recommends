import{_ as pe,h as n,x as T,c as i,o as v,j as t,e as N,n as s,ag as L,ah as q,G as E,H as X,t as u,ai as ge,O as K,a as fe}from"./framework.CuQK53I8.js";const he="_modelSelector_1y9gd_2",_e="_modelSelectorRecommendedSuccess_1y9gd_26",be="_modelSelectorRecommendedCaution_1y9gd_29",Se="_modelSelectorRecommendedWarning_1y9gd_32",Me="_modelSelectorNotRecommended_1y9gd_35",$e="_modelSelectorGlow_1y9gd_39",Ge="_modelSelectorNoMatch_1y9gd_43",Be="_h3_1y9gd_47",Ne="_controls_1y9gd_54",Ce="_controlGroup_1y9gd_61",Re="_controlGroupLabel_1y9gd_67",we="_controlGroupSelect_1y9gd_74",xe="_contextControlGroup_1y9gd_96",ke="_contextControlLabel_1y9gd_103",Ie="_contextSliderContainer_1y9gd_110",Ae="_contextSliderWrapper_1y9gd_116",Fe="_contextSlider_1y9gd_110",Qe="_contextValueDisplay_1y9gd_163",Ve="_result_1y9gd_177",We="_resultStrong_1y9gd_182",Te="_modelName_1y9gd_189",Le="_modelNameNotRecommended_1y9gd_200",Oe="_modelNameRecommendedSuccess_1y9gd_208",Ue="_modelNameRecommendedCaution_1y9gd_214",Pe="_modelNameRecommendedWarning_1y9gd_220",De="_modelNameRecommended4b_1y9gd_226",ze="_modelNameGlow_1y9gd_232",He="_modelNameNoMatch_1y9gd_236",je="_details_1y9gd_240",qe="_memorySection_1y9gd_246",Ee="_memoryBarContainer_1y9gd_252",Xe="_memoryBarLabel_1y9gd_256",Ke="_legend_1y9gd_264",Je="_legendItem_1y9gd_272",Ye="_legendColor_1y9gd_278",Ze="_contextDetails_1y9gd_284",eo="_memoryWarningBox_1y9gd_298",oo="_memoryTable_1y9gd_306",to="_warning_1y9gd_355",lo="_modelContainer_1y9gd_365",no="_lmstudioButton_1y9gd_372",ao={modelSelector:he,modelSelectorRecommendedSuccess:_e,modelSelectorRecommendedCaution:be,modelSelectorRecommendedWarning:Se,modelSelectorNotRecommended:Me,modelSelectorGlow:$e,modelSelectorNoMatch:Ge,h3:Be,controls:Ne,controlGroup:Ce,controlGroupLabel:Re,controlGroupSelect:we,contextControlGroup:xe,contextControlLabel:ke,contextSliderContainer:Ie,contextSliderWrapper:Ae,contextSlider:Fe,contextValueDisplay:Qe,result:Ve,resultStrong:We,modelName:Te,modelNameNotRecommended:Le,modelNameRecommendedSuccess:Oe,modelNameRecommendedCaution:Ue,modelNameRecommendedWarning:Pe,modelNameRecommended4b:De,modelNameGlow:ze,modelNameNoMatch:He,details:je,memorySection:qe,memoryBarContainer:Ee,memoryBarLabel:Xe,legend:Ke,legendItem:Je,legendColor:Ye,contextDetails:Ze,memoryWarningBox:eo,memoryTable:oo,"memory-type-header":"_memory-type-header_1y9gd_344","memory-value":"_memory-value_1y9gd_350",warning:to,modelContainer:lo,lmstudioButton:no},so=["for"],ro=["id"],uo=["value"],mo=["for"],co=["id"],io=["value"],vo=["max"],yo=["href"],po={__name:"ModelSelector",props:{modelDefinitions:{type:Array,default:()=>[{ramMin:64,vramMin:16,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"BF16"}}],usefulness:1},{ramMin:32,vramMin:16,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"Q8_K_XL"}}],usefulness:.7},{ramMin:32,vramMin:6,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"Q6_K_XL"}}],usefulness:.5},{ramMin:16,vramMin:4,models:[{"Qwen3 4B Instruct 2507":{parameters:4,quantization:"F16"}}],usefulness:.3}]},ramOptions:{type:Array,default:()=>[16,32,64,128]},vramOptions:{type:Array,default:()=>[0,4,6,8,12,16,24,32]}},setup(J){const Y={"Qwen3 Coder 30B A3B Instruct":"unsloth/Qwen3-Coder-30B-A3B-Instruct-GGUF","Qwen3 30B Instruct 2507":"unsloth/Qwen3-30B-A3B-Instruct-2507-GGUF","Mistral Small 3.2":"unsloth/Mistral-Small-3.2-24B-Instruct-2506-GGUF","GPT OSS 20B":"openai/gpt-oss-20b","GPT OSS 120B":"openai/gpt-oss-120b","Gemma 3 27B":"unsloth/gemma-3-27b-it-GGUF","Gemma 3 12B":"unsloth/gemma-3-12b-it-GGUF","Qwen3 30B Thinking 2507":"unsloth/Qwen3-30B-A3B-Thinking-2507-GGUF","Qwen3 4B Thinking 2507":"unsloth/Qwen3-4B-Thinking-2507-GGUF","Qwen3 4B Instruct 2507":"unsloth/Qwen3-4B-Instruct-2507-GGUF"},O=n(()=>{if(!a.value.details)return null;const e=a.value.model,o=Y[e];if(!o)return null;const[l,r]=o.split("/");return`lmstudio://open_from_hf?model=${l}/${r}`}),Q=J,y=T(16),p=T(8),h=T(16384),Z=n(()=>Q.modelDefinitions),a=n(()=>{const e=Z.value.find(o=>y.value>=o.ramMin&&p.value>=o.vramMin);if(e){let l=function(m,f){const B=f&&typeof f.parameters=="number",M=f?.quantization;return!B||!M?`${m} (unknown)`:m.match(/ \d+B /)?`${m} (${M})`:`${m} ${f.parameters}B (${M})`};const o=e.models.map(m=>{const f=Object.keys(m)[0],B=m[f];return{name:f,details:B}});let r=o[0]||{name:"Unknown",details:null},d=-1/0;for(const m of o){const f=m.details?.parameters??0,B=m.details?.quantization??"",M=P(f,B,!0);M>d&&(d=M,r=m)}const c=ee(e.usefulness),g=o.filter(m=>m.name!==r.name).map(m=>l(m.name,m.details));return{model:r.name,formattedModel:l(r.name,r.details),plausibleModels:g,details:r.details,usefulness:e.usefulness,borderColor:c,color:"var(--vp-c-text-1)",bg:"var(--vp-c-bg-soft)",hasGlow:e.usefulness===1||e.usefulness===0}}return{model:"Not recommended",formattedModel:"Not recommended",plausibleModels:[],details:null,usefulness:0,borderColor:"var(--vp-c-red-2)",color:"var(--vp-c-text-3)",bg:"var(--vp-c-bg-soft)",hasGlow:!0}});function ee(e){const o=Math.max(0,Math.min(1,e));let l;if(o===1)l="var(--vp-c-green-2)";else if(o===0)l="var(--vp-c-red-2)";else if(o<.5){const r=o*2,d=255,c=Math.round(204*r);l=`rgb(${d}, ${c}, 0)`}else{const r=(o-.5)*2,d=Math.round(255*(1-r)),c=Math.round(204+51*r);l=`rgb(${d}, ${c}, 0)`}return l}const U=n(()=>a.value.model!=="Not recommended"),C=n(()=>U.value?a.value.usefulness===1?{recommendedSuccess:!0}:a.value.usefulness>=.5?{recommendedCaution:!0}:{recommendedWarning:!0}:{notRecommended:!0}),R=n(()=>U.value?a.value.usefulness===1?{recommendedSuccess:!0}:a.value.usefulness>=.5?{recommendedCaution:!0}:{recommendedWarning:!0}:{notRecommended:!0});function oe(e){return e.includes("BF16")||e.includes("F16")?16:e.includes("Q8")?8:e.includes("Q6")?6:e.includes("Q5")?5:e.includes("Q4")||e.includes("MXFP4")?4:e.includes("Q3")?3:e.includes("Q2")?2:e.includes("Q1")?1:0}function P(e,o,l=!0){const r=oe(o);let d=e*(r/8);return l&&(d=d+D()),d}function D(){let l=4096,r=1;for(;l<h.value;)l*=1.33,r*=1.33;return r}function te(e){return e>=64?16:e>=32?12:e>=16?8:0}const le=n(()=>1.5),ne=n(()=>te(y.value)),V=n(()=>a.value.details?P(a.value.details.parameters,a.value.details.quantization,!1):0),w=n(()=>D()),x=n(()=>le.value),W=n(()=>ne.value),_=n(()=>V.value===0?0:V.value/24),b=n(()=>a.value.details&&p.value>=x.value+w.value?w.value:0),$=n(()=>a.value.details&&b.value===0?w.value:0),ae=n(()=>Math.max(0,p.value-x.value-b.value)),se=n(()=>Math.max(0,y.value-W.value-$.value)),re=n(()=>Math.floor(ae.value/_.value)),ue=n(()=>Math.floor(se.value/_.value)),k=n(()=>Math.ceil(V.value/_.value)),G=n(()=>k.value===0?0:Math.min(re.value,k.value)*_.value),I=n(()=>{if(k.value===0)return 0;const e=G.value/_.value,o=k.value-e;return Math.min(ue.value,o)*_.value}),A=n(()=>x.value+b.value+G.value),F=n(()=>W.value+$.value+I.value),de=n(()=>Math.max(0,p.value-A.value)),me=n(()=>Math.max(0,y.value-F.value)),z=n(()=>A.value>p.value),H=n(()=>F.value>y.value),ce=n(()=>{const e=G?G.value:0;return(Number(e)||0).toFixed(2)}),ie=n(()=>{const e=I?I.value:0;return(Number(e)||0).toFixed(2)}),ve=n(()=>{const e=b?b.value:0;return(Number(e)||0).toFixed(2)}),ye=n(()=>{const e=$?$.value:0;return(Number(e)||0).toFixed(2)});n(()=>{const e=A?A.value:0;return(Number(e)||0).toFixed(2)}),n(()=>{const e=F?F.value:0;return(Number(e)||0).toFixed(2)}),n(()=>{const e=p.value||1,o=x.value/e*100,l=b.value/e*100,r=G.value/e*100,d=o,c=o+l,g=c+r;return{background:`linear-gradient(
      to right,
      var(--vp-c-blue-2) 0% ${d}%,
      var(--vp-c-purple-2) ${d}% ${c}%,
      var(--vp-c-orange-2) ${c}% ${g}%,
      var(--vp-c-gray-3) ${g}% 100%
    )`,height:"20px",borderRadius:"4px",width:"100%"}}),n(()=>{const e=y.value||1,o=W.value/e*100,l=$.value/e*100,r=I.value/e*100,d=o,c=o+l,g=c+r;return{background:`linear-gradient(
      to right,
      var(--vp-c-blue-2) 0% ${d}%,
      var(--vp-c-purple-2) ${d}% ${c}%,
      var(--vp-c-orange-2) ${c}% ${g}%,
      var(--vp-c-gray-3) ${g}% 100%
    )`,height:"20px",borderRadius:"4px",width:"100%"}});const S=n(()=>[1,2,4,8,12,16,22,28,32].map(o=>o*1024)),j=n({get(){let e=0,o=Math.abs(S.value[0]-h.value);for(let l=1;l<S.value.length;l++){const r=Math.abs(S.value[l]-h.value);r<o&&(o=r,e=l)}return e},set(e){const o=Math.max(0,Math.min(e,S.value.length-1));h.value=S.value[o]}});return(e,o)=>(v(),i("div",{class:s([e.$style.modelSelector,C.value.recommendedSuccess?e.$style.modelSelectorRecommendedSuccess:"",C.value.recommendedCaution?e.$style.modelSelectorRecommendedCaution:"",C.value.recommendedWarning?e.$style.modelSelectorRecommendedWarning:"",C.value.notRecommended?e.$style.modelSelectorNotRecommended:"",a.value.hasGlow&&a.value.usefulness===1?e.$style.modelSelectorGlow:"",a.value.hasGlow&&a.value.usefulness===0?e.$style.modelSelectorNoMatch:""]),style:K({borderColor:a.value.borderColor})},[t("div",{class:s(e.$style.controls)},[t("div",{class:s(e.$style.controlGroup)},[t("label",{for:`ram-select-${Math.random()}`,class:s(e.$style.controlGroupLabel)},"RAM (GB)",10,so),L(t("select",{id:`ram-select-${Math.random()}`,"onUpdate:modelValue":o[0]||(o[0]=l=>y.value=l),class:s(e.$style.controlGroupSelect)},[(v(!0),i(E,null,X(Q.ramOptions,l=>(v(),i("option",{key:l,value:l},u(l),9,uo))),128))],10,ro),[[q,y.value,void 0,{number:!0}]])],2),t("div",{class:s(e.$style.controlGroup)},[t("label",{for:`vram-select-${Math.random()}`,class:s(e.$style.controlGroupLabel)},"VRAM (GB)",10,mo),L(t("select",{id:`vram-select-${Math.random()}`,"onUpdate:modelValue":o[1]||(o[1]=l=>p.value=l),class:s(e.$style.controlGroupSelect)},[(v(!0),i(E,null,X(Q.vramOptions,l=>(v(),i("option",{key:l,value:l},u(l),9,io))),128))],10,co),[[q,p.value,void 0,{number:!0}]])],2),t("div",{class:s(e.$style.contextControlGroup)},[t("label",{class:s(e.$style.contextControlLabel)},"Context Size: "+u(h.value)+" tokens",3),t("div",{class:s(e.$style.contextSliderContainer)},[t("div",{class:s(e.$style.contextSliderWrapper)},[L(t("input",{type:"range",min:0,max:S.value.length-1,"onUpdate:modelValue":o[2]||(o[2]=l=>j.value=l),class:s(e.$style.contextSlider)},null,10,vo),[[ge,j.value,void 0,{number:!0}]])],2)],2)],2)],2),t("div",{class:s(e.$style.result)},[t("strong",{class:s(e.$style.resultStrong)},"Recommended model:",2),t("span",{class:s([e.$style.modelName,R.value.recommendedSuccess?e.$style.modelNameRecommendedSuccess:"",R.value.recommendedCaution?e.$style.modelNameRecommendedCaution:"",R.value.recommendedWarning?e.$style.modelNameRecommendedWarning:"",R.value.notRecommended?e.$style.modelNameNotRecommended:"",a.value.hasGlow&&a.value.usefulness===1?e.$style.modelNameGlow:"",a.value.hasGlow&&a.value.usefulness===0?e.$style.modelNameNoMatch:""]),style:K({backgroundColor:a.value.bg,color:a.value.color,borderColor:a.value.borderColor})},u(a.value.formattedModel||a.value.model),7),O.value?(v(),i("a",{key:0,href:O.value,target:"_blank",class:s(e.$style.lmstudioButton)}," Use in LMStudio ",10,yo)):N("",!0),a.value.plausibleModels&&a.value.plausibleModels.length>0?(v(),i("div",{key:1,class:s(e.$style.details)},[t("small",null,"Also considered: "+u(a.value.plausibleModels.join(", ")),1)],2)):N("",!0),a.value.details?(v(),i("div",{key:2,class:s(e.$style.details)},[t("small",null," Parameters: "+u(a.value.details.parameters?a.value.details.parameters+"B":"(unknown)")+" | Quantization: "+u(a.value.details.quantization?a.value.details.quantization.toUpperCase():"(unknown)"),1)],2)):N("",!0)],2),a.value.details?(v(),i("div",{key:0,class:s(e.$style.contextDetails)},[o[3]||(o[3]=t("strong",null,"Context Overhead:",-1)),fe(" "+u(w.value.toFixed(2))+"GB (based on "+u(h.value.toLocaleString())+" token context) ",1),o[4]||(o[4]=t("br",null,null,-1)),o[5]||(o[5]=t("small",null,'Note: The size of context in GB is an estimate that shows the "worst case". It may be smaller in actual use, but is assumed to be higher for safely assessing upper bounds.',-1))],2)):N("",!0),a.value.details?(v(),i("div",{key:1,class:s([e.$style.memorySection,z.value||H.value?e.$style.memoryWarningBox:""])},[t("table",{class:s(e.$style.memoryTable)},[t("thead",null,[t("tr",null,[t("th",{class:s(e.$style.memoryTypeHeader)},null,2),o[6]||(o[6]=t("th",null,"Total",-1)),o[7]||(o[7]=t("th",null,"Context",-1)),o[8]||(o[8]=t("th",null,"Model",-1)),o[9]||(o[9]=t("th",null,"Leftover",-1))])]),t("tbody",null,[t("tr",null,[t("td",{class:s(e.$style.memoryTypeHeader)},"RAM",2),t("td",{class:s(e.$style.memoryValue)},u((Number(y.value)||0).toFixed(2))+"GB",3),t("td",{class:s(e.$style.memoryValue)},u(ye.value)+"GB",3),t("td",{class:s(e.$style.memoryValue)},u(ie.value)+"GB",3),t("td",{class:s([e.$style.memoryValue,H.value?e.$style.warning:""])},u((Number(me.value)||0).toFixed(2))+"GB",3)]),t("tr",null,[t("td",{class:s(e.$style.memoryTypeHeader)},"VRAM",2),t("td",{class:s(e.$style.memoryValue)},u((Number(p.value)||0).toFixed(2))+"GB",3),t("td",{class:s(e.$style.memoryValue)},u(ve.value)+"GB",3),t("td",{class:s(e.$style.memoryValue)},u(ce.value)+"GB",3),t("td",{class:s([e.$style.memoryValue,z.value?e.$style.warning:""])},u((Number(de.value)||0).toFixed(2))+"GB",3)])])],2)],2)):N("",!0)],6))}},go={$style:ao},_o=pe(po,[["__cssModules",go]]);export{_o as M};
