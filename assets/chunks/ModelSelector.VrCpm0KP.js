import{_ as pe,h as l,x as L,c as i,o as v,j as n,e as N,n as r,ag as T,ah as q,G as E,H as X,t as u,ai as ge,O as K,a as fe}from"./framework.CuQK53I8.js";const he="_modelSelector_1y9gd_2",_e="_modelSelectorRecommendedSuccess_1y9gd_26",Se="_modelSelectorRecommendedCaution_1y9gd_29",be="_modelSelectorRecommendedWarning_1y9gd_32",Me="_modelSelectorNotRecommended_1y9gd_35",$e="_modelSelectorGlow_1y9gd_39",Ge="_modelSelectorNoMatch_1y9gd_43",Be="_h3_1y9gd_47",Ne="_controls_1y9gd_54",Ce="_controlGroup_1y9gd_61",Re="_controlGroupLabel_1y9gd_67",we="_controlGroupSelect_1y9gd_74",xe="_contextControlGroup_1y9gd_96",ke="_contextControlLabel_1y9gd_103",Ie="_contextSliderContainer_1y9gd_110",Ae="_contextSliderWrapper_1y9gd_116",Fe="_contextSlider_1y9gd_110",Qe="_contextValueDisplay_1y9gd_163",Ve="_result_1y9gd_177",We="_resultStrong_1y9gd_182",Le="_modelName_1y9gd_189",Te="_modelNameNotRecommended_1y9gd_200",Oe="_modelNameRecommendedSuccess_1y9gd_208",Ue="_modelNameRecommendedCaution_1y9gd_214",Pe="_modelNameRecommendedWarning_1y9gd_220",De="_modelNameRecommended4b_1y9gd_226",ze="_modelNameGlow_1y9gd_232",He="_modelNameNoMatch_1y9gd_236",je="_details_1y9gd_240",qe="_memorySection_1y9gd_246",Ee="_memoryBarContainer_1y9gd_252",Xe="_memoryBarLabel_1y9gd_256",Ke="_legend_1y9gd_264",Je="_legendItem_1y9gd_272",Ye="_legendColor_1y9gd_278",Ze="_contextDetails_1y9gd_284",eo="_memoryWarningBox_1y9gd_298",oo="_memoryTable_1y9gd_306",to="_warning_1y9gd_355",lo="_modelContainer_1y9gd_365",no="_lmstudioButton_1y9gd_372",ao={modelSelector:he,modelSelectorRecommendedSuccess:_e,modelSelectorRecommendedCaution:Se,modelSelectorRecommendedWarning:be,modelSelectorNotRecommended:Me,modelSelectorGlow:$e,modelSelectorNoMatch:Ge,h3:Be,controls:Ne,controlGroup:Ce,controlGroupLabel:Re,controlGroupSelect:we,contextControlGroup:xe,contextControlLabel:ke,contextSliderContainer:Ie,contextSliderWrapper:Ae,contextSlider:Fe,contextValueDisplay:Qe,result:Ve,resultStrong:We,modelName:Le,modelNameNotRecommended:Te,modelNameRecommendedSuccess:Oe,modelNameRecommendedCaution:Ue,modelNameRecommendedWarning:Pe,modelNameRecommended4b:De,modelNameGlow:ze,modelNameNoMatch:He,details:je,memorySection:qe,memoryBarContainer:Ee,memoryBarLabel:Xe,legend:Ke,legendItem:Je,legendColor:Ye,contextDetails:Ze,memoryWarningBox:eo,memoryTable:oo,"memory-type-header":"_memory-type-header_1y9gd_344","memory-value":"_memory-value_1y9gd_350",warning:to,modelContainer:lo,lmstudioButton:no},ro=["for"],so=["id"],uo=["value"],mo=["for"],co=["id"],io=["value"],vo=["max"],yo=["href"],po={__name:"ModelSelector",props:{modelDefinitions:{type:Array,default:()=>[{ramMin:64,vramMin:16,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"BF16"}}],usefulness:1},{ramMin:32,vramMin:16,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"Q8_K_XL"}}],usefulness:.7},{ramMin:32,vramMin:6,models:[{"Qwen3 Coder 30B A3B Instruct":{parameters:30,quantization:"Q6_K_XL"}}],usefulness:.5},{ramMin:16,vramMin:4,models:[{"Qwen3 4B Instruct 2507":{parameters:4,quantization:"F16"}}],usefulness:.3}]},ramOptions:{type:Array,default:()=>[16,32,64,128]},vramOptions:{type:Array,default:()=>[0,4,6,8,12,16,24,32]}},setup(J){const Y={"Qwen3 Coder 30B A3B Instruct":"unsloth/Qwen3-Coder-30B-A3B-Instruct-GGUF","Qwen3 30B Instruct 2507":"unsloth/Qwen3-30B-A3B-Instruct-2507-GGUF","Mistral Small 3.2":"unsloth/Mistral-Small-3.2-24B-Instruct-2506-GGUF","GPT OSS 20B":"openai/gpt-oss-20b","GPT OSS 120B":"openai/gpt-oss-120b","Gemma 3 27B":"unsloth/gemma-3-27b-it-GGUF","Gemma 3 12B":"unsloth/gemma-3-12b-it-GGUF","Qwen3 30B Thinking 2507":"unsloth/Qwen3-30B-A3B-Thinking-2507-GGUF","Qwen3 4B Thinking 2507":"unsloth/Qwen3-4B-Thinking-2507-GGUF","Qwen3 4B Instruct 2507":"unsloth/Qwen3-4B-Instruct-2507-GGUF"},O=l(()=>{if(!a.value.details)return null;const e=a.value.model,o=Y[e];if(!o)return null;const[t,s]=o.split("/");return`lmstudio://open_from_hf?model=${t}/${s}`}),Q=J,y=L(16),p=L(8),h=L(16384),Z=l(()=>Q.modelDefinitions),a=l(()=>{const e=Z.value.find(o=>y.value>=o.ramMin&&p.value>=o.vramMin);if(e){let t=function(m,f){const B=f&&typeof f.parameters=="number",$=f?.quantization;return!B||!$?`${m} (unknown)`:m.match(/ \d+B /)?`${m} (${$})`:`${m} ${f.parameters}B (${$})`};const o=e.models.map(m=>{const f=Object.keys(m)[0],B=m[f];return{name:f,details:B}});let s=o[0]||{name:"Unknown",details:null},d=-1/0;for(const m of o){const f=m.details?.parameters??0,B=m.details?.quantization??"",$=P(f,B,!0);$>d&&(d=$,s=m)}const c=ee(e.usefulness),g=o.filter(m=>m.name!==s.name).map(m=>t(m.name,m.details));return{model:s.name,formattedModel:t(s.name,s.details),plausibleModels:g,details:s.details,usefulness:e.usefulness,borderColor:c,color:"var(--vp-c-text-1)",bg:"var(--vp-c-bg-soft)",hasGlow:e.usefulness===1||e.usefulness===0}}return{model:"Not recommended",formattedModel:"Not recommended",plausibleModels:[],details:null,usefulness:0,borderColor:"var(--vp-c-red-2)",color:"var(--vp-c-text-3)",bg:"var(--vp-c-bg-soft)",hasGlow:!0}});function ee(e){const o=Math.max(0,Math.min(1,e));let t;if(o===1)t="var(--vp-c-green-2)";else if(o===0)t="var(--vp-c-red-2)";else if(o<.5){const s=o*2,d=255,c=Math.round(204*s);t=`rgb(${d}, ${c}, 0)`}else{const s=(o-.5)*2,d=Math.round(255*(1-s)),c=Math.round(204+51*s);t=`rgb(${d}, ${c}, 0)`}return t}const U=l(()=>a.value.model!=="Not recommended"),C=l(()=>U.value?a.value.usefulness===1?{recommendedSuccess:!0}:a.value.usefulness>=.5?{recommendedCaution:!0}:{recommendedWarning:!0}:{notRecommended:!0}),R=l(()=>U.value?a.value.usefulness===1?{recommendedSuccess:!0}:a.value.usefulness>=.5?{recommendedCaution:!0}:{recommendedWarning:!0}:{notRecommended:!0});function oe(e){return e.includes("BF16")||e.includes("F16")?16:e.includes("Q8")?8:e.includes("Q6")?6:e.includes("Q5")?5:e.includes("Q4")||e.includes("MXFP4")?4:e.includes("Q3")?3:e.includes("Q2")?2:e.includes("Q1")?1:0}function P(e,o,t=!0){const s=oe(o);let d=e*(s/8);return t&&(d=d+D()),d}function D(){let t=4096,s=1;for(;t<h.value;)t*=1.33,s*=1.33;return s}function te(e){return e>=64?16:e>=32?12:e>=16?8:0}const le=l(()=>1),ne=l(()=>te(y.value)),V=l(()=>a.value.details?P(a.value.details.parameters,a.value.details.quantization,!1):0),w=l(()=>D()),x=l(()=>le.value),W=l(()=>ne.value),_=l(()=>V.value===0?0:V.value/24),S=l(()=>a.value.details&&p.value>=x.value+w.value?w.value:0),b=l(()=>a.value.details&&S.value===0?w.value:0),ae=l(()=>Math.max(0,p.value-x.value-S.value)),re=l(()=>Math.max(0,y.value-W.value-b.value)),se=l(()=>Math.floor(ae.value/_.value)),ue=l(()=>Math.floor(re.value/_.value)),k=l(()=>Math.ceil(V.value/_.value)),G=l(()=>k.value===0?0:Math.min(se.value,k.value)*_.value),I=l(()=>{if(k.value===0)return 0;const e=G.value/_.value,o=k.value-e;return Math.min(ue.value,o)*_.value});l(()=>b.value);const A=l(()=>x.value+S.value+G.value),F=l(()=>W.value+b.value+I.value),de=l(()=>Math.max(0,p.value-A.value)),me=l(()=>Math.max(0,y.value-F.value)),z=l(()=>A.value>p.value),H=l(()=>F.value>y.value),ce=l(()=>{const e=G?G.value:0;return(Number(e)||0).toFixed(2)}),ie=l(()=>{const e=I?I.value:0;return(Number(e)||0).toFixed(2)}),ve=l(()=>{const e=S?S.value:0;return(Number(e)||0).toFixed(2)}),ye=l(()=>{const e=b?b.value:0;return(Number(e)||0).toFixed(2)});l(()=>{const e=A?A.value:0;return(Number(e)||0).toFixed(2)}),l(()=>{const e=F?F.value:0;return(Number(e)||0).toFixed(2)}),l(()=>{const e=p.value||1,o=x.value/e*100,t=S.value/e*100,s=G.value/e*100,d=o,c=o+t,g=c+s;return{background:`linear-gradient(
      to right,
      var(--vp-c-blue-2) 0% ${d}%,
      var(--vp-c-purple-2) ${d}% ${c}%,
      var(--vp-c-orange-2) ${c}% ${g}%,
      var(--vp-c-gray-3) ${g}% 100%
    )`,height:"20px",borderRadius:"4px",width:"100%"}}),l(()=>{const e=y.value||1,o=W.value/e*100,t=b.value/e*100,s=I.value/e*100,d=o,c=o+t,g=c+s;return{background:`linear-gradient(
      to right,
      var(--vp-c-blue-2) 0% ${d}%,
      var(--vp-c-purple-2) ${d}% ${c}%,
      var(--vp-c-orange-2) ${c}% ${g}%,
      var(--vp-c-gray-3) ${g}% 100%
    )`,height:"20px",borderRadius:"4px",width:"100%"}});const M=l(()=>[1,2,4,8,12,16,22,28,32].map(o=>o*1024)),j=l({get(){let e=0,o=Math.abs(M.value[0]-h.value);for(let t=1;t<M.value.length;t++){const s=Math.abs(M.value[t]-h.value);s<o&&(o=s,e=t)}return e},set(e){const o=Math.max(0,Math.min(e,M.value.length-1));h.value=M.value[o]}});return(e,o)=>(v(),i("div",{class:r([e.$style.modelSelector,C.value.recommendedSuccess?e.$style.modelSelectorRecommendedSuccess:"",C.value.recommendedCaution?e.$style.modelSelectorRecommendedCaution:"",C.value.recommendedWarning?e.$style.modelSelectorRecommendedWarning:"",C.value.notRecommended?e.$style.modelSelectorNotRecommended:"",a.value.hasGlow&&a.value.usefulness===1?e.$style.modelSelectorGlow:"",a.value.hasGlow&&a.value.usefulness===0?e.$style.modelSelectorNoMatch:""]),style:K({borderColor:a.value.borderColor})},[n("div",{class:r(e.$style.controls)},[n("div",{class:r(e.$style.controlGroup)},[n("label",{for:`ram-select-${Math.random()}`,class:r(e.$style.controlGroupLabel)},"RAM (GB)",10,ro),T(n("select",{id:`ram-select-${Math.random()}`,"onUpdate:modelValue":o[0]||(o[0]=t=>y.value=t),class:r(e.$style.controlGroupSelect)},[(v(!0),i(E,null,X(Q.ramOptions,t=>(v(),i("option",{key:t,value:t},u(t),9,uo))),128))],10,so),[[q,y.value,void 0,{number:!0}]])],2),n("div",{class:r(e.$style.controlGroup)},[n("label",{for:`vram-select-${Math.random()}`,class:r(e.$style.controlGroupLabel)},"VRAM (GB)",10,mo),T(n("select",{id:`vram-select-${Math.random()}`,"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),class:r(e.$style.controlGroupSelect)},[(v(!0),i(E,null,X(Q.vramOptions,t=>(v(),i("option",{key:t,value:t},u(t),9,io))),128))],10,co),[[q,p.value,void 0,{number:!0}]])],2),n("div",{class:r(e.$style.contextControlGroup)},[n("label",{class:r(e.$style.contextControlLabel)},"Context Size: "+u(h.value)+" tokens",3),n("div",{class:r(e.$style.contextSliderContainer)},[n("div",{class:r(e.$style.contextSliderWrapper)},[T(n("input",{type:"range",min:0,max:M.value.length-1,"onUpdate:modelValue":o[2]||(o[2]=t=>j.value=t),class:r(e.$style.contextSlider)},null,10,vo),[[ge,j.value,void 0,{number:!0}]])],2)],2)],2)],2),n("div",{class:r(e.$style.result)},[n("strong",{class:r(e.$style.resultStrong)},"Recommended model:",2),n("span",{class:r([e.$style.modelName,R.value.recommendedSuccess?e.$style.modelNameRecommendedSuccess:"",R.value.recommendedCaution?e.$style.modelNameRecommendedCaution:"",R.value.recommendedWarning?e.$style.modelNameRecommendedWarning:"",R.value.notRecommended?e.$style.modelNameNotRecommended:"",a.value.hasGlow&&a.value.usefulness===1?e.$style.modelNameGlow:"",a.value.hasGlow&&a.value.usefulness===0?e.$style.modelNameNoMatch:""]),style:K({backgroundColor:a.value.bg,color:a.value.color,borderColor:a.value.borderColor})},u(a.value.formattedModel||a.value.model),7),O.value?(v(),i("a",{key:0,href:O.value,target:"_blank",class:r(e.$style.lmstudioButton)}," Use in LMStudio ",10,yo)):N("",!0),a.value.plausibleModels&&a.value.plausibleModels.length>0?(v(),i("div",{key:1,class:r(e.$style.details)},[n("small",null,"Also considered: "+u(a.value.plausibleModels.join(", ")),1)],2)):N("",!0),a.value.details?(v(),i("div",{key:2,class:r(e.$style.details)},[n("small",null," Parameters: "+u(a.value.details.parameters?a.value.details.parameters+"B":"(unknown)")+" | Quantization: "+u(a.value.details.quantization?a.value.details.quantization.toUpperCase():"(unknown)"),1)],2)):N("",!0)],2),a.value.details?(v(),i("div",{key:0,class:r(e.$style.contextDetails)},[o[3]||(o[3]=n("strong",null,"Context Overhead:",-1)),fe(" "+u(w.value.toFixed(2))+"GB (based on "+u(h.value.toLocaleString())+" token context) ",1)],2)):N("",!0),a.value.details?(v(),i("div",{key:1,class:r([e.$style.memorySection,z.value||H.value?e.$style.memoryWarningBox:""])},[n("table",{class:r(e.$style.memoryTable)},[n("thead",null,[n("tr",null,[n("th",{class:r(e.$style.memoryTypeHeader)},null,2),o[4]||(o[4]=n("th",null,"Total",-1)),o[5]||(o[5]=n("th",null,"Context",-1)),o[6]||(o[6]=n("th",null,"Model",-1)),o[7]||(o[7]=n("th",null,"Leftover",-1))])]),n("tbody",null,[n("tr",null,[n("td",{class:r(e.$style.memoryTypeHeader)},"RAM",2),n("td",{class:r(e.$style.memoryValue)},u((Number(y.value)||0).toFixed(2))+"GB",3),n("td",{class:r(e.$style.memoryValue)},u(ye.value)+"GB",3),n("td",{class:r(e.$style.memoryValue)},u(ie.value)+"GB",3),n("td",{class:r([e.$style.memoryValue,H.value?e.$style.warning:""])},u((Number(me.value)||0).toFixed(2))+"GB",3)]),n("tr",null,[n("td",{class:r(e.$style.memoryTypeHeader)},"VRAM",2),n("td",{class:r(e.$style.memoryValue)},u((Number(p.value)||0).toFixed(2))+"GB",3),n("td",{class:r(e.$style.memoryValue)},u(ve.value)+"GB",3),n("td",{class:r(e.$style.memoryValue)},u(ce.value)+"GB",3),n("td",{class:r([e.$style.memoryValue,z.value?e.$style.warning:""])},u((Number(de.value)||0).toFixed(2))+"GB",3)])])],2)],2)):N("",!0)],6))}},go={$style:ao},_o=pe(po,[["__cssModules",go]]);export{_o as M};
